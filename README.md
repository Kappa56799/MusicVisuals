# Music Visualiser Project

| Student Names | Student Numbers |
|-----------|-----------|
|Kacper Palka| C22376553|
|Miron Nekrasovs| C22486382 |
|Pavels Strelnikovs | C22491452 |

# Description of the assignment
In our assignment, we decided to create a platformer style game where a cube jumps over a gap in the floor to avoid landing in the toxic music wave below it. During the game the user can change the background 1-7 to simulate the cube going on an adventure where there is multiple different components such as boids, rotating cubes, trees, rainfall, spheres and many more reacting to the music. We managed to get the components reacting to music using the Minim audio library to extract audio from an MP3 file to allow for cool animations. In the project we have folders with our student number showing what components were created by who but take that with a grain of salt as everyone in the group was helping each other mostly on 1 laptop while creating the project due to us casting it to a TV. 

Here is our YouTube video of the project:

[![YouTube](http://img.youtube.com/vi/U4c20di_33A/0.jpg)](https://www.youtube.com/watch?v=U4c20di_33A)

And Lastly the song chosen is Snake Eyes by Faint:


[![SnakeEyes](http://img.youtube.com/vi/cvq7Jy-TFAU/0.jpg)](https://www.youtube.com/watch?v=cvq7Jy-TFAU)

# How to Run
For Linux/Mac Systems:

```./CompileAndRun.sh```


For Windows Systems:
Run/Debug Java in Vscode

or

Double Click `Compile.bat`

or

Using Powershell ```.\Compile.bat```

# Instructions
- Compile and run using instructions above for your system.
- Press or hold spacebar to jump.
- Press 1-7 to change between backgrounds.
- On key 3 the mouse can be moved to change the background

# How it works
#### Kacper Palka C22376553:
So I designed the structure of our project choosing to make individual folders for each person so we can easily identify who made what. I chose to make a new compile script for linux which let me run and compile at the same time making it easier to see changes on my machine and due to having issues with vscode a temporary `Compile.bat` file was created which does the same as the linux script but for windows. After we had a way to quickly run the code, I designed a rain fall component and this is when our team thought about making a platformer-style game with a cube in the middle jumping over obstacles to avoid falling into a toxic pool, this allowed me to create a wave at the bottom of the screen which bounces up and down by changing the amplitude in relation to the music being played by using Minim. Once I created these components I moved onto making the square, I firstly created a basic grey square and decided to add a circle in the middle of it to make it look nicer. After the basic square without physics was made I created the platform component, firstly it started off with just a giant rectangle going across the screen but then I made it create a random sized gap before the platform was rendered again as well as moving physics making it move left. The random sized gap was achieved by making the next platform be rendered a `-x` distance from the one that was just on screen and spawning when the other platform is 50% off the screen. After the platform was fully working, I created physics for the cube to jump up and down. This was created by adding a gravity which pulls the cube down slowly by changing the `y coordinate` and `velocity` which changes how fast it moves up and down. Once I ghot it working moving up and down, I added a check to see if its jumping to allow the user to hold spacebar so it jumps forever as well as adding a rotating effect so the cube slowly spins while jumping for a cool animation. To finish the platforms off I added a small triangle under it to make it look nicer. So now we have to create some backgrounds, I firstly created multiple trees in a component that open and close and use recursion for the branches. After making them I add boids to make it look like birds are flying from tree to tree like they would in the real world. I used a tutorial to get the boids fully working and they change color and speed depending on the song. These boids flock like real birds which means they group up and fly from one side of the screen to the other. Next thing I worked on is finishing and making something cool with the rainfall so I added a sphere which gets bigger and smaller using camera angle and is dependent on the song used. It also uses colors and lerp for smooth transitions. The final thing I added to this background was a snowflake like shape which gets drawn out slowly and changes color smoothly using lerp, the longer this gets drawn out the brighter it becomes as the lines start out as being feint. Next thing I implemented was an array of dots with lines that change color to make it look like a skipping rope for the cube to jump over. Lastly I implmented multiple cubes rotating, changing color and chaning size to make them look like they are bouncing depending on the music and implemented 2 ball curves used for another background that change color and speed depending on the music.

#### Pavels Strelnikovs C22491452:
For this assignment, I have designed the background for Key 4 and Key 5, with the main files I worked on being `matrix.java`, `rainbow.java` and `spiral.java`, as well as helping out with some small stuff in the group for other backgrounds, and I also designed a background which was not included in the end due to bugs and crashing the other visuals. I chose to design a Matrix rain-fall effect, inspired from 'The Matrix' movies. To do this, I watched a tutorial online which was done in the Processing Development Environment (PDE) and I tried to incorporate it into this project. The `matrix.java` file initialises all of the libraries and then has a main `matrix` class which interacts with the visualization in the `MyVisual` file. Some variables are intitialised in this class to make sure that the rendering and interval of the characters is not too fast. I then worked on setting the colours I wanted for the characters, as well as using the `alpha` functionality to add a fading effect for the characters. I also set the font I wanted, and I set the range of characters I wanted to be randomly generated (in either the ASCII or Kanji characters). I then made it so the characters would have a range in which they would be rendered in a stream so that every stream would have a different length, and set the speed of how fast the characters change. For my other background, I wanted to make a cool rainbow effect which has a subtle feel to it yet noticeable. I wanted the effect to be used in the slower parts of the song for the visualizer. In `rainbow.java`, I made it centered and transformed it from a rectangular to a circular shape using `centreX` and `centreY` variables in the `rect` and `line` functions. To achieve an animation effect, I changed the colour offset and increased rotation angle to give it that simple effect. I also changed the colour of the transformation matrix to a lighter rajnbow hue so I could include my next background into it. The `spiral.java` file was an extra background for Key 5 along with the rainbow effect to fill up the screen a bit more. I centered it the same as I did the rainbow and I moved the distance from the centre by a specified amount, to make it look a bit arched as the bottom of every background is covered off by the main noise wave. I then made the spiral a specific amount of points and closed up the distance a bit so it could compliment the effect that the rainbow effect from earlier gave.

#### Miron Nekrasovs C22486382:
In this assignment I created various backgrounds for the different key presses. The first thing I decided to make was a mouse tracked moving background. I watched a tutorial on how to make a cool render where the screen is covered in cubes that would rotate based on the mouse input. I implemented this into our project as best as I could however it wouldn’t work properly so I had to play around with the code and eventually I ended up with something I liked and that worked which ended up being the background for key 3. The movement works by having the `mouseX`and `moueY`be mapped into `rotateX`and `rotateY`respectively. I also assisted Kacper in the making of the rotating cubes.
The next thing I developed was the random line, it would work by having a point chosen at random within a certain (60) range from the previous point, and then the two were connected by a line, and the process repeats. I set the line to be a maximum of 350 points long meaning that it will start deleting the first points as new ones are being picked, this is so that it doesn’t clutter up the entire screen and would create a snake of some sort. I then added a few more of these lines and made them all change colours so that none would be the same colour. The arrays would be initialized in the middle of the screen by having `height`and `width` divided by two. Next the colours are chosen at random. The next thing was to have a random value within a range to be added onto the arrays of each line to draw the next point. All of these points then had to be constrained to be within the boundaries of the screen using`constrain`.
The next thing I decided to do was a wave going from one end of the screen to another. I watched a tutorial and implemented it into our code, and knowing how it worked I played with the colour hue and sizes of the circles to find one that suited me. I added a second one, and had to mirror it upside down to add a cool effect. I added a suggestion from kacper to add a stroke to the render to give each of the circles a black outline which made it look better. Each time the program runs it will determine random amplitudes / heights for the waves. The amplitude of each wave is chosen randomly between the values of 100 and 120. The wave pattern is calculated using `calcWave`, within the loop, it calculates the wave height for each element in the `yvalues` array based on the current value of `theta`, using either the `sine` or `cosine` function depending on the wave index. Then the wave is rendered using the values from `yvalues`and ellipses that make up the wave.
The last thing I decided to add to fill in key 7 a bit more was from another quick tutorial and it was balls that fall down and bounce off eachother with Bounce and momentum physics. After I implemented them I was able to get them to change colours like one of the random lines, I also changed it so that they don’t fall to the bottom of the screen and get lost behind the wave, they’d fall to the centre of the screen. I didn’t like that they lost all of their momentum after some time and ended up piling up and not moving, I tried to change this by getting rid of the gravity and decreasing it as well as increasing the spring value to give them more momentum upon collision, however there was a bug with my visual studio code and I wasn’t able to see any changes that I’ve made when I ran the code so none of them made the final cut. The balls move using the `move` method. It first updates the vertical velocity (`vy`) of the balls by adding the value of `gravity` to it, then it updates the horizontal velicity (`vx`), it also checks if the ball has reached the edge of the screen and if so it's horizontal position is adjusted while the horizontal velocity is multiplied by `friction` to slow it down, it does the same thing for the bottom of the screen by multiplying `vy` by `friction`, it does the same for the top edge of the screen. The balls use the `collide` method to collide and it works by calculating the distance between the current ball and another ball using the pythagorean theorem `float distance = mv.sqrt(dx * dx + dy * dy)`, then it calculates the minimum distance at which they should collide, and if the calculated distance is less than the minimum distance it means that the balls are colliding and calculates the angle of the collision using the `atan2()` function. Then based on the angle and minimum distance it calculates the target position the ball should move to and the acceleration or deceleration it will inherit from the collision to move towards the next ball.

# What I am most proud of in the assignment
#### Kacper Palka C22376553:
I'm incredibly proud of what I achieved with my music visualizer assignment, especially considering it was my first time working with Java. The highlight of my project has to be the captivating platformer I created, complete with multiple visually stunning visualizers that seamlessly react to music by dynamically changing color, size, and speed. Also learning good OOP practices and seeing how keyboard input and music and be visualized and used as an input was very cool to see and very engaging to watch. Overall, I'm very happy with how everything turned out. I think me and my team created a really nice little project which thought us many things that will help us in our future and especially Computer Science and it was really fascinating to see how music can be seen in a different perspective using visualization.

#### Pavels Strelnikovs C22491452:
I'm incredibly happy with what I and my team have achieved for this music visualizer assignment. As a first time Java user, from the beginning of the Semester 2 continuation of the Object Oreinted Programming module, I was certainly a novice in that Programming Language and through attending lectures and learning through online resources, I'm proud to have come a long way in getting more proficient in using the language and be able to make something out out my current knowledge. I'm really pleased with the group of people I got to work with, as we were able to allign our interests and ideas and organise everything how we wanted to from online and in person. Despite some of my background ideas not being suited in this project from testing either from not fitting the theme or crashing the Visualiser upon running, I have learned a great deal about how and why my incorporations into the project did not work from a design and coding aspect, and this experience has taught and re-inforced my understanding of how to de-bug and test code before running. For this project, I had many issues with my `matrix.java` code which took out alot of my time incorporating other backgrounds into this project, but working on it to get it to be a decent background and it paying off is another proud moment in this assignment. Within having struggles of my visuals breaking for the assignment, there were also issues I had which were more apparent compared to others when using GitHub, such as Merge Conflicts. Having so many Merge Conflicts allowed me to re-assess where the conflicts were coming from, allowing me to compare my own and my groups code extensively to fix any issues, and it allowed me to gain a better understanding of how Merge Conflicts worked, and throughout this project I also got much better at using Git in general. Through my little reflection on the downsides I had during this project, I am extremely proud of what experience, knowledge and understanding I have gained from this. The highlight of this project for me was creating the video after everything from each of us was done and working without any issues. It was very engaging and exciting to watch the visuals, from the platform and the cube to the backgrounds we all designed be put to use throughout the whole song. I had alot of fun assigning each scene to what I thought would best represent the current flow, speed and theme of the song, from start to finish. I felt proud and accomplished that we could listen and watch music from a different perspective from our creation, and this project certainly helped me with Compute Science, and I am happy I got to use this to improve on my coding practices for my future (and will continue to do so).

#### Miron Nekrasovs C22486382:
Im most proud of the waves and the random lines since in my opinion they look the best and add a lot to the background. They were simple enough to code (compared to the balls) and look amazing. I'm also proud of all of the challenges that I've faced and was able to overcome be it sometimes with the help of teammates, that provided an incredibly fun learning experience that showed us a lot about how processing in java works. I like the random lines because each time they're completely random and unpredictable and it's fun watching them and seeing where the code will take them. The wave is a thing I'm proud of too since it is mezmerising to look at with the colours changing and it adds a lot to the last key of the processing, and it is always interesting to see the different amplitudes of the waves each time the code is ran.
Overall I'm happy and grateful to have had a chance to participare in this project with my specific teammates and how it all turned out and it really opened my eyes to what is possible in java.